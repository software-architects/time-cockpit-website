---
layout: blog
title: Was ist neu in der Version März 2015
excerpt: Die neue Version von time cockpit enthält viele Verbesserungen zur Benutzerfreundlichkeit der HTML5 Preview. Die wichtigste Neuerung sind die Tastaturkürzel, die die Verwendung des Web-Clients viel effizienter machen. Natürlich haben wir auch im Full- und Silverlight-Client wieder Verbesserungen geliefert.
author: Rainer Stropek
date: 2015-02-27
bannerimage: /content/images/blog/2015/02/time-cockpit-march-2015.png
bannerimagesource: 
lang: de
tags: [time cockpit]
ref: /blog/2015/02/27/Whats-New-in-Version-March-2015
permalink: /de/blog/2015/02/27/Was-ist-neu-in-der-Version-März-2015
---

<p class="showcase">Die neue Version März 2015 (1.34) ist rückwärtskompatibel bis zur Version März 2013 (1.10). Sie können alle Versionen bis dahin gleichzeitig in einem Account verwenden.</p><h2>Verbesserungen im Full- und Silverlight-Client</h2><p>Für den Full- und Silverlight-Client haben wir diesen Monat folgende Verbesserungen geliefert und Fehler behoben.</p><h3>Member Namen und OData Web API</h3><p>Es gibt eine neue Validierungsregel, die sicherstellt, dass Entitäten keine Properties oder Relations mit den Namen der Entität enthalten. Wenn Sie bereits solche Properties oder Relation in Ihrem Datenmodell haben, müssen Sie im Moment nichts ändern. Sie können aber keine neuen Properties oder Relations mit den Namen der Entität mehr anlegen. Der folgende Screenshot zeigt die Fehlermeldung, die Sie erhalten, wenn Sie ein Property mit ungültigem Namen anlegen.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/SameNameProperty.png?mw=800" />
</p><p>Der Grund für diese Einschränkung ist die <a href="http://help.timecockpit.com/?topic=html/5d6e34c5-3b08-4fa4-baa0-45eb707b6b78.htm" target="_blank">OData Web Service Layer von time cockpit</a>. Einige OData Clients validieren das OData Metadaten Modell und können mit Modellen mit Member Namen die gleich sind wie der Name der Entität nicht umgehen. Kunden haben uns z. B. Probleme gemeldet beim Versuch mit <a href="https://msdn.microsoft.com/de-de/library/ff851953.aspx">LightSwitch</a> auf time cockpit zuzugreifen.</p><p>Auch wenn Sie nicht auf die aktuellste time cockpit Version umsteigen empfehlen wir, keine Properties oder Relations mit den Namen der Entität mehr anzulegen.</p><h3>Relation Cells und Script Lists</h3><p>
  <a href="http://help.timecockpit.com/?topic=html/0bc0dca0-3146-0767-90a6-7b6eb5d4ee86.htm" target="_blank">
    <em>Relation Cells</em>
  </a> werden verwendet, um Comboboxen zu definieren, in denen der Benutzer ein Element auswählen kann (z. B. da Projekt in einer Zeitbuchung). In der einfachsten Form wird einfach eine Liste aller zugehörigen Daten dargestellt (z. B. Projekte). Es können aber auch benutzerdefinierte Listen in Relation Cells verwendet werden. Solche Listen nennen wir Relation Lists. Ein typischer Anwendungsfall ist das Filtern und Sortieren der verfügbaren Elemente (z. B. Projekteliste sortiert nach Projektcode, in der nur dem Benutzer zugeordnete Projekte angezeigt werden). Die folgende animierte Graphik zeigt, wie Forms, Relation Lists und Comboboxen zusammenhängen:</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/RelationListAnimated.png" />
</p><p>In früheren Version war es nicht möglich, <em>Script Source Listen</em> (mehr Infos zu Script Source Listen finden Sie in diesem <a href="http://www.timecockpit.com/blog/2014/11/27/Why-You-Need-to-Sign-Your-Custom-Code">Blog Artikel</a>) als Relation Liste zu verwenden. In der neuen Version haben wir diese Einschränkung entfernt. Sie können in <em>Relation Cells</em> nun auch Listen mit Scripts als Datenquelle für die Combobox Werte verwenden. Bitte beachten Sie, dass die Methode <em>getResultModelEntity</em> ein Model Entity vom selben Typ wie das Target der <em>Relation Cell</em> zurückgeben muss.</p><p>Durch diese Änderung sind nun eine Reihe von Szenarien möglich, die wir in der Vergangenheit nicht bieten konnten. Unsere Kunden haben manchmal komplexe Business Regeln wie z. B. welche Projekte in der Zeitbuchungsmaske zur Verfügung stehen sollen. In solchen Fällen sind Scripts die perfekte Lösung.</p><p>Hier ist ein Beispiel: Sie haben eine Form zum Editieren von Projekten mit einer Relation auf den Kunden des Projekts. Die <em>RelationCell</em> in der Form sieht folgendermaßen aus: <em>&lt;RelationCell Content="=Current.APP_Customer" <strong>List="USR_MyCustomerList"</strong> /&gt;</em>. Die Liste <em>USR_MyCustomerList</em> ist eine Script Source Liste in der die Methode <em>getResultModelEntity</em> einfach <em>context.Model.Entities.APP_Customer</em> liefert. Die <em>getItems</em> Methode der Script Source Liste liefert <em>EntityObjects</em> die zu diesem Model Entity passen.</p><h3>Einschränkung für Calculated Properties entfernt</h3><p>Wir haben ein Problem behoben, das bisher verhindert hat, dass manche Calculated Properties in Forms korrekt upgedatet wurden. Bisher war es notwendig, dass Properties und Relations in Calculated Properties mit ihrem Präfix angegeben wurden (SYS für System, APP für das Standarddatenmodell von time cockpit und USR für Account-spezifische Anpassungen). Hier ein Beispiel: Wenn ein Calculated Property Fullname die Formel <em>Current.Firstname + ' ' + Current.Lastname</em> hatte und das Property wurde in einer Form verwendet, dann wurde der Fullname nicht richtig aktualisiert wenn sich <em>Firstname</em> oder <em>Lastname</em> geändert haben. Die Formel musste bisher <em>Current.APP_Firstname + ' ' + Current.APP_Lastname</em> lauten. In der neuen Version sind beide Versionen (mit und ohne Präfix) möglich.</p><h3>Silverlight Client</h3><p>Im Silverlight Client haben wir ein Memory Leak behoben. Das Problem ist nur in Accounts aufgetreten, die eine <a href="http://help.timecockpit.com/?topic=html/54273f29-ff88-3856-effc-86cdaf662f35.htm"><em>TreeViewRelationCell</em></a> in Forms verwendet haben. Wenn Sie das Standard-Datenmodell von time cockpit nicht angepasst haben, dann waren Sie von dem Memory Leak nicht betroffen, da wir das Control dort nicht verwenden.</p><p>Wenn Sie die <em>TreeViewRelationCell</em> in eigenen Forms verwendet haben, dann haben Sie eventuell Performance Probleme bekommen, wenn Sie die betroffene Form öfter geöffnet haben. Bei jedem Öffnen der Form wurde die Performance ein wenig schlechter, das Tippen in Eingabefeldern wurde langsamer und das erneute Öffnen der Form dauerte länger. In der neuen Version ist das Problem nun behoben.</p><h2>HTML5 Client</h2><p>Im HTML5 Client haben wir uns darauf konzentriert, das Eingeben von Daten benutzerfreundlicher zu machen. Im Endausbau soll der Web-Client mindestens genauso komfortable zu benutzen sein wie der Full-Client. Wir wissen, dass wir bis dahin noch einen langen Weg vor uns haben, aber diesen Monat können wir einige wichtige Verbesserungen präsentieren.</p><h3>Default-Werte in Forms</h3><p>Die Forms für neue Entitäten unterstützen nun dieselben Default-Werte wie der Full-Client. Das beinhaltet Default-Werte vom Datenmodell, von der Form-Definition auch Daten, die im Filter der Liste eingegeben wurden. Wenn Sie im Filter der Projekt-Liste z. B. einen Kunden filtern und dann ein neues Projekt hinzufügen, dann wird in der Projekt-Form der Kunde gleich vorausgefüllt.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/default-values.png" />
</p><h3>Auto-generierte Listen und Forms</h3><p>Es ist übliche Praxis in time cockpit, dass für einfache Entitäten keine Listen- und Form-Definition erstellt wird. Im Full- und Silverlight-Client wurden diese bereits jetzt, wenn keine Liste oder Form hinterlegt war, automatisch mit allen Properties und Relationen erstellt. Die automatisch generierten Listen und Forms sind nun auch im HTML5 Client verfügbar.</p><h3>Tastaturkürzel</h3><p>Wir haben für die meisten Funktionen im UI Tastaturkürzel hinzugefügt. Sie können auf rechts oben auf das Tastatur Icon klicken, um eine Übersicht über alle Tastaturkürzel zu bekommen. Für verschiedene Bereiche in der Applikation sind verschiedene Kürzel verfügbar. Je nachdem, wo in der Applikation Sie sich befinden, sehen Sie eine andere Liste an Tastaturkürzeln. Zusätzlich zeigen die meisten Icons einen Tooltip mit dem Kürzel, wenn Sie Maus zumindest zwei Sekunden über das Icon bewegen.</p><p>Soweit möglich haben wir versucht dieselben Kürzel wie im Full-Client zu verwenden. Leider sind einige davon bereits vom Browser besetzt, für diese mussten wir neue Kürzel verwenden.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/hotkeys.png" />
</p><h3>Fokus</h3><p>Beim Öffnen einer Liste mit Filter oder einer Form wird der Fokus automatisch auf das erste Eingabeelement gesetzt.</p><h3>Menü</h3><p>Wenn die Breite des Browsers zu klein wird, um das gesamte Menü anzuzeigen, dann wird es zum einem Icon links oben verkleinert anstatt das Menü mehrzeilig anzuzeigen.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/burger-menu.png" />
</p><h3>Zeitzone UTC+0</h3><p>Wir haben einen Bug korrigiert, der nur in Zeitzonen ohne Abweichung zur <a href="http://en.wikipedia.org/wiki/UTC%C2%B100:00">Coordinated Universal Time</a> aufgetreten ist. Davon waren unsere Kunden in Irland, Portugal und UK betroffen. Der Bug hat alle möglichen Probleme beim Anzeigen und Eingeben von Datums- und Zeitwerten ausgelöst.</p><h3>Endlose Redirects beim Ablauf der Session</h3><p>In manchen Fällen hat die Umleitung zur Login Seite nicht funktioniert, wenn eine Session abgelaufen ist und eine Neu-Anmeldung notwendig war. In der neuen Version sollte eine Warnung angezeigt werden, dass eine Neu-Anmeldung notwendig ist, und dann sollten Sie auf die Login Seite umgeleitet werden.</p>