---
layout: blog
title: What's New in Version March 2015
teaser: The new time cockpit version contains lots of usability improvements for the HTML5 preview. The most important one are keyboard shortcuts that make using the web client much more efficient. Of course we added a bunch of improvements to the full and Silverlight clients, too.
author: Rainer Stropek
date: 2015-02-27
bannerimage: /content/images/blog/2015/02/time-cockpit-march-2015.png
lang: en
ref: /de/blog/2015/02/27/Was-ist-neu-in-der-Version-März-2015
permalink: /blog/2015/02/27/Whats-New-in-Version-March-2015
---

<p class="showcase">The new version March 2015 (1.34) is downwards compatible to version March 2013 (1.10) and later. You can use all of these versions in a single account simultaneously.</p><h2>Improvements in Full and Silverlight Client</h2><p>For the full client and the Silverlight client we have made the following improvements and bug fixes.</p><h3>Members Names and OData Web API</h3><p>There is a new validation rule that ensures that entities must not contain properties or relations with the same name as the entity. If you have such properties or relations, you do not have to change your model immediately. Everything will continue to work. However, it will not be possible to create new properties or relation with the name of the enclosing entity anymore. The following screenshot shows the error message that appears if you try to add a property with an invalid name.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/SameNameProperty.png?mw=800" />
</p><p>The reason for this new name limitation is <a href="http://help.timecockpit.com/?topic=html/5d6e34c5-3b08-4fa4-baa0-45eb707b6b78.htm" target="_blank">time cockpit's OData web service layer</a>. Some OData clients (e.g. a time cockpit customer reported problems while using <a href="https://msdn.microsoft.com/de-de/library/ff851953.aspx" target="_blank">LightSwitch</a> to access time cockpit) perform a full validation on the OData metadata model and cannot handle models with member names that are equal to the entity name. Because of this, we discourage such a constellations.</p><p class="showcase">Even if you do not update to the latest time cockpit version immediately, we recommend to no longer create properties or relations with a name equal to the name of the enclosing entity.</p><h3>Relation Cells and Script Lists</h3><p>
  <a href="http://help.timecockpit.com/?topic=html/0bc0dca0-3146-0767-90a6-7b6eb5d4ee86.htm" target="_blank">
    <em>Relation Cells</em>
  </a> are used in time cockpit forms to define combo boxes in which users can select an item (e.g. project assigned to a new timesheet record). In their simplest form, they just display a list of all related data rows (e.g. projects). However, time cockpit supports the creation of custom lists that are used in relation cells. Such lists are called <em>Relation Lists</em>. Typical use cases are sorting and filtering of the available rows (e.g. sort project list by the projects' code, display only those projects to which the user is assigned to). The following animated image illustrates how form, relation list, and combo box relate to each other:</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/RelationListAnimated.png" style="{ max-width: 800; }" />
</p><p>In former releases, time cockpit did not support <em>Script Source Lists</em> (see also this <a href="http://www.timecockpit.com/blog/2014/11/27/Why-You-Need-to-Sign-Your-Custom-Code" target="_blank">blog article</a> for a description of this list type) as relation lists. We removed this limitation in the current time cockpit release. In <em>Relations Cells</em> it is now possible to use lists with a script as its data source for the combo box values. Note that it is important that the <em>getResultModelEntity</em> method returns a model entity of the same type as the relation target.</p><p>Removing this limitation enables a large range of scenarios that time cockpit could not offer in the past. Customers sometimes have complex business rules for e.g. projects that should be available for timesheet records. In such cases, scripts are the perfect tool for the job.</p><p>Here is an example: If you have an edit form for <em>projects</em> with a <em>relation to the corresponding customer</em>, the <em>RelationCell</em> definition in the project form could look like this: <em>&lt;RelationCell Content="=Current.APP_Customer" <strong>List="USR_MyCustomerList"</strong> /&gt;</em>. <em>USR_MyCustomerList</em> is a script source list where <em>getResultModelEntity</em> simply returns <em>context.Model.Entities.APP_Customer</em>. The <em>getItems</em> method of the script source list has to return <em>EntityObjects</em> that fit to the specified model entity.</p><h3>Removed Limitation in Formulas for Calculated Properties</h3><p>We have fixed an issue that prevented calculated properties to be updated correctly in forms. By now you had to specify names of properties and relations in formulas for calculated properties <em>with their prefix</em> (<em>SYS</em> for system, <em>APP</em> for time cockpit's predefined data model, and <em>USR</em> for tenant-specific customizations). Here is an example: If a calculated property <em>Fullname</em> had a formula like <em>Current.Firstname + ' ' + Current.Lastname</em> and you used the property in a form, <em>Fullname </em> was not updated when <em>Firstname</em> or <em>Lastname</em> changed. You had to use the forumla <em>Current.<strong>APP_</strong>Firstname + ' ' + Current.<strong>APP_</strong>Lastname</em>. In the new versions both versions (with and without prefix) will work.</p><h3>Silverlight Client</h3><p>In the Silverlight client we have fixed a memory leak. The problem occurred only in accounts which use the <a href="http://help.timecockpit.com/?topic=html/54273f29-ff88-3856-effc-86cdaf662f35.htm" target="_blank"><em>TreeViewRelationCell</em></a> in forms. If you have not customized the data model you were not affected by the memory leak because we do not use this control in the standard data model that we ship.</p><p>If you are using the <em>TreeViewRelationCell</em> in the Silverlight Client, you might have encountered problems when opening the form containing the <em>TreeViewRelationCell</em> repeatedly. Each time the peformance got a little worse, typing became slower and it took longer to open the next form. In the new version this problem is fixed and the performance should not slow down.</p><h2>HTML5 Client</h2><p>For the HTML5 client we have tried to make entering data more user friendly. At the end, using the web client should be at least as comfortable as using the full client. We know that there are still lots of points to get better but this month we can present some major usability improvements.</p><h3>Default Values in Forms</h3><p>The forms for new entities now support the same default values as the full client. This covers the default values from the data model, from the form definition and also data entered in the filter of the list. If you filter for a certain customer in the projects list and then add a new project, the selected customer will be pre-filled in the new form.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/default-values.png" />
</p><h3>Auto Generated Lists and Forms</h3><p>It is common practice in time cockpit, that users do not create custom lists and forms for very small entities with only a few input fields. The production clients recognize this and generate form and list on the fly. The HTML5 client did not do that in the past. The new release behaves exactly as the production clients. If there is no list or form defined for an entity, they are generated automatically in the background.</p><h3>Hotkeys</h3><p>We have added hotkeys to most functions available in the UI. You can click on the keyboard icon in the top right corner to get a summary of all available hotkeys. There are different hotkeys for different pages. That means that you will get another list of hotkeys when you are viewing a list compared to working in a form. Additionally, most icons will show you a tooltip with the hotkey when hovering over it for at least 2 seconds.</p><p>As far as possible we have tried to use the same hotkeys as available in the full client. Unfortunately some of them are already used by the browser so we had to replace them.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/hotkeys.png" />
</p><h3>Focus</h3><p>When opening a list with a filter form or an edit form, the focus is automatically set to the first input control.</p><h3>Menu</h3><p>If the available width of the browser window is too small for the menu, it collapses to a burger menu instead of increasing the height of the menu.</p><p>
  <img src="{{site.baseurl}}/content/images/blog/2015/02/burger-menu.png" />
</p><h3>Timezone UTC+0</h3><p>We have fixed an error that only occurred in timezones with a deviation of zero to the <a href="http://en.wikipedia.org/wiki/UTC%C2%B100:00" target="_blank">coordinated universal time</a>. That means customers in Ireland, Portugal and UK were affected by this bug. It led to all kinds of strange behavior when displaying or entering dates and times.</p><h3>Infinite Redirects When Session Ended</h3><p>In some cases the redirect to the login page did not work properly when a session ended and the user had to re-authenticate. Now, a warning should be shown that authentication is required and then you should be redirected to the login page.</p>