---
layout: blog
title: Hello Database Pools!
teaser: In January, we finally migrated all our production databases in Microsoft Azure from the old web/business-edition-model to new v12 database servers. Additionally, we now manage all our database clusters in Azure Database Pools. Although this change will not influence you as a time cockpit user directly, you indirectly have some important benefits.
author: Rainer Stropek
date: 2016-01-31
bannerimage: /content/images/blog/2016/01/db-usage-chart-small.png
permalink: /blog/2016/01/31/Hello-Database-Pools
---

<p xmlns="http://www.w3.org/1999/xhtml">
  <img src="{{site.baseurl}}/content/images/blog/2016/01/db-usage-chart.png" />
</p><p class="imageCaption" xmlns="http://www.w3.org/1999/xhtml">Screenshot from <a href="http://portal.azure.com">Azure Portal</a> showing examplary usage statistics of one of time cockpit's production DB clusters.<br /></p><p xmlns="http://www.w3.org/1999/xhtml">In January, we finally migrated all our production databases in <a href="http://azure.microsoft.com" target="_blank">Microsoft Azure</a> from the old web/business-edition-model to new <a href="https://azure.microsoft.com/en-us/documentation/articles/sql-database-v12-whats-new/" target="_blank">v12 database servers</a>. Additionally, we now manage all our database clusters in Azure <a href="https://azure.microsoft.com/en-us/documentation/articles/sql-database-elastic-pool/" target="_blank">Elastic Database Pools</a>. Although this change will not influence you as a time cockpit user directly, you indirectly have some important benefits.</p><h2 xmlns="http://www.w3.org/1999/xhtml">The "Old" Model</h2><p xmlns="http://www.w3.org/1999/xhtml">With time cockpit, we really have been an early adopter of Microsoft Azure. Only a few weeks after Azure went into production, we started the production version of time cockpit based on this cloud. From the very first day, we used the <a href="https://azure.microsoft.com/en-us/documentation/services/sql-database/" target="_blank">Azure SQL Database</a> service for storing time cockpit's data. At that time, Microsoft offered Web and Business Editions of their managed databases in the cloud. They were primarily changed based on the amount of data you store in them. Computational power (e.g. number of queries) wasn't charged separately. This was a big advantage as we got quite a lot of performance at a low price point. However, the model had a big drawback: Microsoft did not provide performance SLAs. Therefore, it could happen (and this really happened) that queries were fast on one day and quite slow on the next.</p><h2 xmlns="http://www.w3.org/1999/xhtml">Enter V12</h2><p xmlns="http://www.w3.org/1999/xhtml">In 2015, Microsoft introduced a brand new version of SQL Database clusters in Azure. This version was called "V12". It offered a lot more features than the old web/business-edition databases. Additionally, the new database servers offer guaranteed performance. Therefore, volatile DB performance as we had it in the old web/business-edition-model does not happen anymore.</p><p xmlns="http://www.w3.org/1999/xhtml">However, Microsoft also changed the pricing model. With V12, you are primarily charged based on the power, not the size of the databases. As a cloud service provider with lots of database clusters, the new pricing model was not affordable for us. We could only use it for a handful of specific use cases.</p><h2 xmlns="http://www.w3.org/1999/xhtml">The Solution: Elastic Database Pools</h2><p xmlns="http://www.w3.org/1999/xhtml">Some months after V12 became available, Microsoft launched <em>Elastic Database Pools</em>. This offering has been designed for companies like us having dozens, hundreds or even thousands of DB clusters. With this new management and pricing model, V12 became usable for us. Over the course of December 2015 and January 2016, we migrated all our production DB clusters to V12 database pools.</p><h2 xmlns="http://www.w3.org/1999/xhtml">Your Advantages</h2><p xmlns="http://www.w3.org/1999/xhtml">As a time cockpit customer, what are your advantages from us switching to new DB clusters:</p><ul xmlns="http://www.w3.org/1999/xhtml">
  <li>More predecitable performance.</li>
  <li>Microsoft manages all DB backups and now offers us restore capabilities to any point in time in the last 14 days. We can use these capabilities if we have to support our customers in disaster recovery scenarios (e.g. programming mistake in an automated interface leading to corrupt data).</li>
  <li>Today, we have some databases containing multiple customers. Customers are securely separated by using DB schemas, appropriate access permissions, and logins with long, complex passwords. With database pools, we can enhance our <a href="https://msdn.microsoft.com/en-us/library/dn589797.aspx" target="_blank">sharding strategy</a> and gradually move to a one-DB-per-customer model. This will make time cockpit even more secure as customer separation will be done on an even lower level.</li>
  <li>We work hard to offer time cockpit at a competitive monthly rate. For existing customers, we have not raised time cockpit's monthly fee since the launch of our service. Elastic databases enable us to keep the DB costs low. Therefore, we can offer the advantages mentioned above at no additional costs for you as a time cockpit customer.
<br /></li>
</ul><p xmlns="http://www.w3.org/1999/xhtml">Time cockpit's version February 2016 has been optimized for the new database servers, therefore we strongly recommend to upgrade to the new version. Especially the performance of synchronizing data with the server may become very poor with older versions of time cockpit.</p><p xmlns="http://www.w3.org/1999/xhtml">
  <a href="~/account/download">Get the new version ...</a>
</p>